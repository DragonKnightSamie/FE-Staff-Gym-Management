<div class="-m-6 flex max-h-[calc(100vh-128px)] flex-auto flex-col">
    <!-- Header -->
    <div
        class="flex h-16 flex-0 items-center justify-between bg-primary pl-6 pr-3 text-on-primary sm:pl-8 sm:pr-5"
    >
        <div class="text-lg font-medium">Inquiry</div>
        <button mat-icon-button (click)="matDialogRef.close()" [tabIndex]="-1">
            <mat-icon
                class="text-current"
                [svgIcon]="'heroicons_outline:x-mark'"
            ></mat-icon>
        </button>
    </div>
    <div class="font-poppins overflow-y-scroll p-8 dark:bg-gray-800">
        <ng-container *ngIf="updateInquiryForm">
            <form [formGroup]="updateInquiryForm">
                <div class="flex w-full items-center justify-center">
                    <fuse-card
                        class="filter-info flex w-full max-w-80 items-center p-6"
                    >
                        <img
                            class="mr-6 h-16 w-16 rounded-full"
                            [src]="
                                inquiry.member.avatarUrl ||
                                environment.defaultAvatar
                            "
                            alt="Card cover image"
                        />
                        <div class="flex flex-col">
                            <div class="text-2xl font-semibold leading-tight">
                                {{ inquiry.member.name }}
                            </div>
                            <div class="text-md leading-tight text-primary">
                                {{ inquiry.member.phone }}
                            </div>
                            <div class="text-secondary mt-2 text-md">
                                {{ inquiry.member.email }}
                            </div>
                        </div>
                    </fuse-card>
                </div>
                <mat-form-field class="w-full">
                    <mat-label>Title</mat-label>
                    <input
                        matInput
                        placeholder="Title"
                        [formControlName]="'title'"
                    />
                </mat-form-field>

                <fuse-alert class="mb-4" type="info">
                    {{ inquiry.message }}
                </fuse-alert>

                <mat-form-field class="w-full">
                    <mat-label>Response</mat-label>
                    <textarea
                        matInput
                        placeholder="Response"
                        [formControlName]="'message'"
                    ></textarea>
                </mat-form-field>

                <div class="flex justify-end gap-4">
                    <button
                        (click)="rejectInquiry()"
                        mat-raised-button
                        [disabled]="inquiry.inquiryReponse"
                        color="warn"
                        class="flex min-w-fit gap-2"
                    >
                        <mat-icon svgIcon="heroicons_outline:x-mark"></mat-icon>
                        <span> Reject </span>
                    </button>
                    <button
                        (click)="acceptInquiry()"
                        mat-raised-button
                        [disabled]="inquiry.inquiryReponse"
                        color="primary"
                        class="flex min-w-fit gap-2"
                    >
                        <mat-icon svgIcon="heroicons_outline:inbox"></mat-icon>
                        <span> Approve </span>
                    </button>
                </div>
            </form>
        </ng-container>
    </div>
</div>
